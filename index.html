<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PapadSale - Gujarati Swad, Ghar-ghar Tak!</title>
    <meta name="description" content="Fresh homemade Gujarati snacks delivered to your doorstep. Order authentic papad, mathiya, khakhra and more with free delivery.">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;600;700&family=Poppins:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        body {
            box-sizing: border-box;
        }
        
        .font-baloo { font-family: 'Baloo 2', cursive; }
        .font-poppins { font-family: 'Poppins', sans-serif; }
        .font-inter { font-family: 'Inter', sans-serif; }
        .font-lato { font-family: 'Lato', sans-serif; }
        
        .bg-cream { background-color: #FEF7ED; }
        .bg-saffron { background-color: #FF6A00; }
        .text-saffron { color: #FF6A00; }
        .border-saffron { border-color: #FF6A00; }
        
        .gujarati-pattern {
            background-image: 
                radial-gradient(circle at 25px 25px, rgba(255, 106, 0, 0.08) 2px, transparent 2px),
                radial-gradient(circle at 75px 75px, rgba(255, 140, 0, 0.06) 2px, transparent 2px);
            background-size: 100px 100px, 150px 150px;
        }
        
        .soft-shadow {
            box-shadow: 0 8px 32px rgba(255, 106, 0, 0.12);
        }
        
        .product-card {
            transition: all 0.3s ease;
        }
        
        .product-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 16px 48px rgba(255, 106, 0, 0.2);
        }
        
        .weight-toggle {
            transition: all 0.2s ease;
        }
        
        .weight-toggle.active {
            background: #FF6A00;
            color: white;
            border-color: #FF6A00;
            transform: scale(1.02);
        }
        
        .weight-toggle.active span {
            color: white !important;
        }
        
        .counter-animation {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease;
        }
        
        .counter-animation.animate {
            opacity: 1;
            transform: translateY(0);
        }
        
        .floating-whatsapp {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        
        .cart-drawer {
            transform: translateX(100%);
            transition: transform 0.3s ease-in-out;
        }
        
        .cart-drawer.open {
            transform: translateX(0);
        }
        
        .badge-container {
            position: fixed;
            top: 50%;
            left: 0;
            transform: translateY(-50%);
            z-index: 100;
        }
        
        .saffron-gradient {
            background: linear-gradient(135deg, #FF6A00, #FF8C00);
        }
        
        .quantity-btn {
            transition: all 0.2s ease;
        }
        
        .quantity-btn:hover {
            transform: scale(1.1);
        }
        
        .testimonial-card {
            transition: all 0.3s ease;
        }
        
        .testimonial-card:hover {
            transform: translateY(-2px);
        }
        
        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease;
        }
        
        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
        }
        
        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        @media (max-width: 768px) {
            .badge-container {
                position: static;
                transform: none;
                padding: 1rem;
            }
        }
    </style>
</head>
<body class="bg-cream font-inter">
    <!-- Header -->
    <header class="bg-white shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 rounded-full bg-white flex items-center justify-center overflow-hidden">
                        <img src="assets/logo.png" alt="PapadSale Logo" class="w-8 h-8 object-contain" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        <span class="text-saffron font-bold text-lg hidden">P</span>
                    </div>
                    <div>
                        <h1 class="font-baloo font-bold text-xl text-saffron">PapadSale</h1>
                        <p class="text-xs text-gray-600 font-inter">Gujarati Swad, Ghar-ghar Tak!</p>
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <button onclick="toggleCart()" class="relative bg-saffron text-white px-4 py-2 rounded-lg font-semibold hover:bg-orange-600 transition-colors">
                        ğŸ›’ àª•àª¾àª°à«àªŸ
                        <span id="cart-count" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">0</span>
                    </button>
                    <div class="text-right">
                        <p class="text-sm text-gray-600">àª•à«àª²</p>
                        <p id="cart-total" class="font-bold text-saffron">â‚¹0</p>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="gujarati-pattern py-16">
        <div class="container mx-auto px-4 text-center">
            <h2 class="font-baloo font-bold text-4xl md:text-6xl text-saffron mb-4">
                àª¸à«àªµàª¾àª¦àª¿àª·à«àªŸ àª—à«àªœàª°àª¾àª¤à«€ àª¨àª¾àª¸à«àª¤à«‹
            </h2>
            <p class="font-inter text-lg md:text-xl text-gray-700 mb-8 max-w-2xl mx-auto">
                Fresh homemade Gujarati snacks delivered to your doorstep. Experience authentic flavors with every bite!
            </p>
            <div class="flex flex-wrap justify-center gap-4 mb-8">
                <div class="bg-white px-6 py-3 rounded-full soft-shadow">
                    <span class="text-2xl">ğŸ </span>
                    <span class="ml-2 font-semibold">Homemade Quality</span>
                </div>
                <div class="bg-white px-6 py-3 rounded-full soft-shadow">
                    <span class="text-2xl">ğŸšš</span>
                    <span class="ml-2 font-semibold">Free Delivery</span>
                </div>
                <div class="bg-white px-6 py-3 rounded-full soft-shadow">
                    <span class="text-2xl">â­</span>
                    <span class="ml-2 font-semibold">Premium Quality</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Product Categories -->
    <section class="py-8 bg-white">
        <div class="container mx-auto px-4">
            <div class="flex flex-wrap justify-center gap-4">
                <button onclick="filterProducts('all')" class="filter-btn bg-saffron text-white px-6 py-2 rounded-full font-semibold transition-colors">
                    àª¬àª§à«àª‚
                </button>
                <button onclick="filterProducts('papad')" class="filter-btn bg-white text-gray-700 px-6 py-2 rounded-full font-semibold transition-colors border">
                    àªªàª¾àªªàª¡
                </button>
                <button onclick="filterProducts('mathiya')" class="filter-btn bg-white text-gray-700 px-6 py-2 rounded-full font-semibold transition-colors border">
                    àª®àª àª¿àª¯àª¾
                </button>
                <button onclick="filterProducts('khakhra')" class="filter-btn bg-white text-gray-700 px-6 py-2 rounded-full font-semibold transition-colors border">
                    àª–àª¾àª–àª°àª¾
                </button>
                <button onclick="filterProducts('snacks')" class="filter-btn bg-white text-gray-700 px-6 py-2 rounded-full font-semibold transition-colors border">
                    àª¨àª¾àª¸à«àª¤à«‹
                </button>
                <button onclick="filterProducts('sweets')" class="filter-btn bg-white text-gray-700 px-6 py-2 rounded-full font-semibold transition-colors border">
                    àª®àª¿àª àª¾àªˆ
                </button>
            </div>
        </div>
    </section>

    <!-- Products Section -->
    <section class="py-16">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12">
                <h3 class="font-baloo font-bold text-3xl text-gray-800 mb-4">àª…àª®àª¾àª°àª¾ àªªà«àª°à«‹àª¡àª•à«àªŸà«àª¸</h3>
                <p class="text-gray-600 font-inter">Fresh, authentic Gujarati snacks made with love</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="products-grid">
                <!-- Products will be loaded here -->
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <div class="max-w-4xl mx-auto text-center">
                <h3 class="font-baloo font-bold text-3xl text-gray-800 mb-6">àª…àª®àª¾àª°àª¾ àªµàª¿àª¶à«‡</h3>
                <p class="text-lg text-gray-600 mb-8 leading-relaxed">
                    PapadSale is your trusted source for authentic Gujarati snacks. We've been serving families across Gujarat with traditional homemade flavors for over 5 years. Our commitment to quality and authentic taste has made us a household name.
                </p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-saffron rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-2xl text-white">ğŸ </span>
                        </div>
                        <h4 class="font-semibold text-lg mb-2">Homemade Quality</h4>
                        <p class="text-gray-600">Made with traditional recipes passed down through generations</p>
                    </div>
                    <div class="text-center">
                        <div class="w-16 h-16 bg-saffron rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-2xl text-white">ğŸŒ¿</span>
                        </div>
                        <h4 class="font-semibold text-lg mb-2">Fresh Ingredients</h4>
                        <p class="text-gray-600">Only the finest and freshest ingredients sourced locally</p>
                    </div>
                    <div class="text-center">
                        <div class="w-16 h-16 bg-saffron rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-2xl text-white">ğŸšš</span>
                        </div>
                        <h4 class="font-semibold text-lg mb-2">Fast Delivery</h4>
                        <p class="text-gray-600">Quick and reliable delivery to your doorstep</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
                <div class="counter-animation">
                    <div class="text-4xl font-bold text-saffron mb-2" data-count="500">0</div>
                    <p class="text-gray-600">Happy Customers</p>
                </div>
                <div class="counter-animation">
                    <div class="text-4xl font-bold text-saffron mb-2" data-count="11">0</div>
                    <p class="text-gray-600">Products</p>
                </div>
                <div class="counter-animation">
                    <div class="text-4xl font-bold text-saffron mb-2" data-count="100">0</div>
                    <p class="text-gray-600">Orders Daily</p>
                </div>
                <div class="counter-animation">
                    <div class="text-4xl font-bold text-saffron mb-2" data-count="5">0</div>
                    <p class="text-gray-600">Years Experience</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section class="py-16 gujarati-pattern">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12">
                <h3 class="font-baloo font-bold text-3xl text-gray-800 mb-4">àª—à«àª°àª¾àª¹àª•à«‹àª¨àª¾ àª…àª­àª¿àªªà«àª°àª¾àª¯</h3>
                <p class="text-gray-600 font-inter">What our customers say about us</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="testimonial-card bg-white p-6 rounded-2xl soft-shadow">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 bg-saffron rounded-full flex items-center justify-center text-white font-bold">P</div>
                        <div class="ml-3">
                            <h4 class="font-semibold">Priya Patel</h4>
                            <div class="text-yellow-400">â­â­â­â­â­</div>
                        </div>
                    </div>
                    <p class="text-gray-600">"Best mathiya I've ever tasted! Reminds me of my grandmother's cooking. Fresh and crispy every time."</p>
                </div>
                
                <div class="testimonial-card bg-white p-6 rounded-2xl soft-shadow">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 bg-saffron rounded-full flex items-center justify-center text-white font-bold">R</div>
                        <div class="ml-3">
                            <h4 class="font-semibold">Rajesh Shah</h4>
                            <div class="text-yellow-400">â­â­â­â­â­</div>
                        </div>
                    </div>
                    <p class="text-gray-600">"Excellent quality and fast delivery. The khakhra is perfectly crispy and the flavors are authentic."</p>
                </div>
                
                <div class="testimonial-card bg-white p-6 rounded-2xl soft-shadow">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 bg-saffron rounded-full flex items-center justify-center text-white font-bold">M</div>
                        <div class="ml-3">
                            <h4 class="font-semibold">Meera Desai</h4>
                            <div class="text-yellow-400">â­â­â­â­â­</div>
                        </div>
                    </div>
                    <p class="text-gray-600">"Amazing variety and taste! My family loves all the products. Highly recommend PapadSale."</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <div class="max-w-4xl mx-auto">
                <div class="text-center mb-12">
                    <h3 class="font-baloo font-bold text-3xl text-gray-800 mb-4">àª¸àª‚àªªàª°à«àª• àª•àª°à«‹</h3>
                    <p class="text-gray-600 font-inter">Get in touch with us for orders and inquiries</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="space-y-6">
                        <div class="flex items-center space-x-4">
                            <div class="w-12 h-12 bg-saffron rounded-full flex items-center justify-center">
                                <span class="text-white text-xl">ğŸ“±</span>
                            </div>
                            <div>
                                <h4 class="font-semibold">WhatsApp</h4>
                                <p class="text-gray-600">+91 99781 13276</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center space-x-4">
                            <div class="w-12 h-12 bg-saffron rounded-full flex items-center justify-center">
                                <span class="text-white text-xl">ğŸ“§</span>
                            </div>
                            <div>
                                <h4 class="font-semibold">Email</h4>
                                <p class="text-gray-600">info@papadsale.com</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center space-x-4">
                            <div class="w-12 h-12 bg-saffron rounded-full flex items-center justify-center">
                                <span class="text-white text-xl">ğŸ“</span>
                            </div>
                            <div>
                                <h4 class="font-semibold">Location</h4>
                                <p class="text-gray-600">Ahmedabad, Gujarat, India</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center space-x-4">
                            <div class="w-12 h-12 bg-saffron rounded-full flex items-center justify-center">
                                <span class="text-white text-xl">ğŸ•’</span>
                            </div>
                            <div>
                                <h4 class="font-semibold">Working Hours</h4>
                                <p class="text-gray-600">Mon - Sat: 9 AM - 8 PM</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-gray-50 p-6 rounded-2xl">
                        <h4 class="font-semibold text-lg mb-4">Send us a message</h4>
                        <form onsubmit="sendMessage(event)" class="space-y-4">
                            <input type="text" placeholder="Your Name" required class="w-full p-3 border border-gray-300 rounded-lg focus:border-saffron focus:outline-none">
                            <input type="tel" placeholder="Phone Number" required class="w-full p-3 border border-gray-300 rounded-lg focus:border-saffron focus:outline-none">
                            <textarea placeholder="Your Message" rows="4" required class="w-full p-3 border border-gray-300 rounded-lg focus:border-saffron focus:outline-none resize-none"></textarea>
                            <button type="submit" class="w-full bg-saffron text-white py-3 rounded-lg font-semibold hover:bg-orange-600 transition-colors">
                                Send Message
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Cart Drawer -->
<div id="cart-drawer" class="cart-drawer fixed top-0 right-0 h-full w-full md:w-96 bg-white shadow-2xl z-50 overflow-y-auto">
        <div class="p-4 md:p-6">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl md:text-2xl font-baloo font-bold text-gray-800">Your Cart</h3>
                <button onclick="toggleCart()" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
            </div>
            
            <div id="cart-items" class="space-y-4 mb-6">
                <p class="text-gray-500 text-center py-8">Your cart is empty</p>
            </div>
            
            <div id="cart-total" class="border-t pt-4 mb-6 hidden">
                <div class="flex justify-between items-center text-lg font-bold">
                    <span>Total:</span>
                    <span id="total-amount">â‚¹0</span>
                </div>
            </div>
            
            <div id="checkout-form" class="hidden">
                <h4 class="text-lg font-baloo font-bold mb-4">Delivery Details</h4>
                <div class="space-y-4">
                    <input type="text" id="customer-name" placeholder="Full Name *" required 
                           class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-saffron focus:border-transparent">
                    <input type="tel" id="customer-mobile" placeholder="Mobile Number *" required pattern="[0-9]{10}"
                           class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-saffron focus:border-transparent">
                    <textarea id="customer-address" placeholder="Full Address *" required rows="3"
                              class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-saffron focus:border-transparent"></textarea>
                    <input type="text" id="customer-pincode" placeholder="Pincode *" required pattern="[0-9]{6}"
                           class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-saffron focus:border-transparent">
                    <input type="text" id="customer-landmark" placeholder="Landmark (Optional)"
                           class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-saffron focus:border-transparent">
                    <select id="delivery-time" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-saffron focus:border-transparent">
                        <option value="ASAP">ASAP</option>
                        <option value="Morning">Morning (9 AM - 12 PM)</option>
                        <option value="Evening">Evening (4 PM - 7 PM)</option>
                    </select>
                    <textarea id="order-notes" placeholder="Notes (Optional)" rows="2"
                              class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-saffron focus:border-transparent"></textarea>
                    <select id="payment-mode" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-saffron focus:border-transparent">
                        <option value="UPI">UPI Payment</option>
                        <option value="COD">Cash on Delivery</option>
                    </select>
                </div>
                
                <div class="space-y-3 mt-6">
                    <button onclick="updateCart()" 
                            class="w-full bg-gray-500 hover:bg-gray-600 text-white py-2 rounded-lg font-medium transition-colors">
                        ğŸ›’ Update Cart (Add More Items)
                    </button>
                    
                    <button onclick="processPayment()" 
                            class="w-full bg-saffron hover:bg-orange-600 text-white py-4 rounded-lg font-bold text-lg transition-colors">
                        ğŸ’³ Pay Now & Place Order
                    </button>
                    
                    <button onclick="placeOrder()" 
                            class="w-full bg-green-500 hover:bg-green-600 text-white py-3 rounded-lg font-medium transition-colors">
                        ğŸ“± Order via WhatsApp
                    </button>
                </div>
                
                <button id="confirm-btn" onclick="sendConfirmation()" 
                        class="w-full bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg font-medium transition-colors mt-3 hidden">
                    ğŸ“² Send Confirmation to My WhatsApp
                </button>
                
                <!-- Payment Info -->
                <div class="mt-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200">
                    <h5 class="font-bold text-gray-800 mb-3">ğŸ’³ Payment Options</h5>
                    <div class="text-center mb-3">
                        <img src="assets/qr.png" alt="UPI QR Code" class="w-32 h-32 mx-auto rounded-lg"
                             onerror="this.src=''; this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        <div class="w-32 h-32 bg-gray-200 rounded-lg mx-auto flex items-center justify-center text-gray-500 text-sm" style="display: none;">
                            UPI QR Code
                        </div>
                    </div>
                    <p class="text-sm text-gray-600 text-center">Share payment screenshot on WhatsApp for faster dispatch</p>
                </div>
            </div>
        </div>
    </div>
        </div>
        
        <div id="cart-items" class="flex-1 overflow-y-auto">
            <p class="text-gray-500 text-center py-8">àª¤àª®àª¾àª°à«àª‚ àª•àª¾àª°à«àªŸ àª–àª¾àª²à«€ àª›à«‡</p>
        </div>
        
        <div class="p-6 border-t">
            <button onclick="placeOrder()" class="w-full bg-green-500 text-white py-3 rounded-xl font-semibold hover:bg-green-600 transition-colors">
                WhatsApp àªªàª° àª“àª°à«àª¡àª° àª•àª°à«‹
            </button>
        </div>
    </div>

    <!-- Floating WhatsApp Button -->
    <a href="https://wa.me/919978113276" target="_blank" rel="noopener noreferrer" class="floating-whatsapp">
        <div class="bg-green-500 text-white p-4 rounded-full shadow-lg hover:bg-green-600 transition-colors">
            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.890-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"/>
            </svg>
        </div>
    </a>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <div class="flex items-center space-x-3 mb-4">
                        <div class="w-10 h-10 rounded-full bg-white flex items-center justify-center overflow-hidden">
                            <img src="assets/logo.png" alt="PapadSale Logo" class="w-8 h-8 object-contain" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                            <span class="text-saffron font-bold text-lg hidden">P</span>
                        </div>
                        <div>
                            <h3 class="font-baloo font-bold text-xl text-saffron">PapadSale</h3>
                        </div>
                    </div>
                    <p class="text-gray-300 mb-4">Authentic Gujarati snacks delivered fresh to your doorstep. Taste the tradition!</p>
                    <div class="flex space-x-3">
                        <a href="#" class="w-8 h-8 bg-saffron rounded-full flex items-center justify-center hover:bg-orange-600 transition-colors">ğŸ“˜</a>
                        <a href="https://instagram.com/papadsale.live" target="_blank" rel="noopener noreferrer" class="w-8 h-8 bg-saffron rounded-full flex items-center justify-center hover:bg-orange-600 transition-colors">ğŸ“·</a>
                        <a href="https://wa.me/919978113276" target="_blank" rel="noopener noreferrer" class="w-8 h-8 bg-saffron rounded-full flex items-center justify-center hover:bg-orange-600 transition-colors">ğŸ’¬</a>
                    </div>
                </div>
                
                <div>
                    <h4 class="font-semibold text-lg mb-4">Quick Links</h4>
                    <ul class="space-y-2 text-gray-300">
                        <li><a href="#" class="hover:text-saffron transition-colors">Home</a></li>
                        <li><a href="#products" class="hover:text-saffron transition-colors">Products</a></li>
                        <li><a href="#about" class="hover:text-saffron transition-colors">About Us</a></li>
                        <li><a href="#contact" class="hover:text-saffron transition-colors">Contact</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-semibold text-lg mb-4">Categories</h4>
                    <ul class="space-y-2 text-gray-300">
                        <li><a href="#" class="hover:text-saffron transition-colors">Papad</a></li>
                        <li><a href="#" class="hover:text-saffron transition-colors">Mathiya</a></li>
                        <li><a href="#" class="hover:text-saffron transition-colors">Khakhra</a></li>
                        <li><a href="#" class="hover:text-saffron transition-colors">Snacks</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-semibold text-lg mb-4">Contact Info</h4>
                    <div class="space-y-2 text-gray-300">
                        <p>ğŸ“± +91 99781 13276</p>
                        <p>ğŸ“§ info@papadsale.com</p>
                        <p>ğŸ“ Ahmedabad, Gujarat</p>
                        <p>ğŸ•’ Mon-Sat: 9 AM - 8 PM</p>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-300">
                <p>&copy; 2024 PapadSale. All rights reserved. Made with â¤ï¸ for authentic Gujarati flavors.</p>
            </div>
        </div>
    </footer>

    <!-- Order Success Modal -->
    <div id="success-modal" class="modal">
        <div class="bg-white p-8 rounded-2xl max-w-md mx-4 text-center">
            <div class="text-6xl mb-4">âœ…</div>
            <h3 class="font-bold text-xl mb-2">Order Placed Successfully!</h3>
            <p class="text-gray-600 mb-6">We'll contact you shortly on WhatsApp to confirm your order.</p>
            <button onclick="closeModal()" class="bg-saffron text-white px-6 py-2 rounded-lg hover:bg-orange-600 transition-colors">
                Continue Shopping
            </button>
        </div>
    </div>

    <script>
        const products = [
            {
                id: 1,
                name: "àª—à«àª°à«€àª¨ àªšà«€àª²à«€ àª–à«€àªšàª¿àª¯àª¾ àªªàª¾àªªàª¡",
                nameEn: "Green Chili Khichiya Papad",
                price250: 90,
                price500: 180,
                image: "papad1.jpg",
                category: "papad"
            },
            {
                id: 2,
                name: "àª†àª¸à«àªµàª¾àª¦ àª¸àª¾àª¦àª¾ àª®àª àª¿àª¯àª¾",
                nameEn: "Aswad Plain Mathiya",
                price250: 100,
                price500: 200,
                image: "mathiya1.jpg",
                category: "mathiya"
            },
            {
                id: 3,
                name: "àª†àª¸à«àªµàª¾àª¦ àª²à«€àª²àª¾ àª®àª°àªšàª¾ àª®àª àª¿àª¯àª¾",
                nameEn: "Aswad Green Chili Mathiya",
                price250: 110,
                price500: 220,
                image: "mathiya1.jpg",
                category: "mathiya"
            },
            {
                id: 4,
                name: "àª†àª¸à«àªµàª¾àª¦ àªšà«‹àª³àª¾àª«àª³à«€",
                nameEn: "Aswad Cholafali",
                price250: 100,
                price500: 200,
                image: "chorafali1.jpg",
                category: "snacks"
            },
            {
                id: 5,
                name: "àª¯àª¶ àª²à«€àª²àª¾ àª®àª°àªšàª¾ àª®àª àª¿àª¯àª¾",
                nameEn: "Yash Green Chili Mathiya",
                price250: 150,
                price500: 300,
                image: "combomathiyachorafali.png",
                category: "mathiya"
            },
            {
                id: 6,
                name: "àª¯àª¶ àª¸àª¾àª¦àª¾ àª®àª àª¿àª¯àª¾",
                nameEn: "Yash Plain Mathiya",
                price250: 140,
                price500: 280,
                image: "combomathiyachorafali.png",
                category: "mathiya"
            },
            {
                id: 7,
                name: "àª¯àª¶ àªšà«‹àª³àª¾àª«àª³à«€",
                nameEn: "Yash Cholafali",
                price250: 140,
                price500: 280,
                image: "chorafali1.jpg",
                category: "snacks"
            },
            {
                id: 8,
                name: "àª®à«‡àª¥à«€ / àª®àª¸àª¾àª²àª¾ àª–àª¾àª–àª°àª¾",
                nameEn: "Methi / Masala Khakhra",
                price250: 100,
                price500: 200,
                image: "khakhra1.jpg",
                category: "khakhra"
            },
            {
                id: 9,
                name: "àª®àª  / àªœà«àªµàª¾àª° / àª°àª¾àª—à«€ àª–àª¾àª–àª°àª¾",
                nameEn: "Math / Juwar / Ragi Khakhra",
                price250: 135,
                price500: 270,
                image: "khakhra1.jpg",
                category: "khakhra"
            },
            {
                id: 10,
                name: "àª¬àª¿àª¸à«àª•àª¿àªŸ/àª¨àª¾àª¨àª–àªŸàª¾àªˆ",
                nameEn: "Biscuit/Nankhatai",
                price250: 70,
                price500: 140,
                image: "combomathiyachorafali.png",
                category: "sweets"
            },
            {
                id: 11,
                name: "àª¡à«àª°àª¾àª¯ àª•àªšà«‹àª°à«€",
                nameEn: "Dry Kachori",
                price250: 70,
                price500: 140,
                image: "chorafali1.jpg",
                category: "snacks"
            }
        ];
        
        let cart = [];
        let currentFilter = 'all';
        
        function renderProducts() {
            const grid = document.getElementById('products-grid');
            const filteredProducts = currentFilter === 'all' 
                ? products 
                : products.filter(p => p.category === currentFilter);
            
            grid.innerHTML = filteredProducts.map(product => `
                <div class="product-card bg-white rounded-2xl p-6 soft-shadow">
                    <div class="text-center mb-4">
                        <div class="w-32 h-32 mx-auto mb-3 rounded-lg overflow-hidden bg-gray-100">
                            <img src="assets/${product.image}" alt="${product.nameEn}" class="w-full h-full object-cover" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                            <div class="w-full h-full bg-saffron text-white text-4xl flex items-center justify-center hidden">ğŸ“¦</div>
                        </div>
                        <h3 class="font-baloo font-semibold text-lg text-gray-800 mb-1">${product.name}</h3>
                        <p class="text-sm text-gray-600 font-inter">${product.nameEn}</p>
                    </div>
                    
                    <div class="space-y-3">
                        <div class="flex justify-center space-x-2">
                            <button class="weight-toggle px-4 py-2 border-2 border-gray-300 rounded-lg text-sm font-medium" 
                                    onclick="selectWeight(${product.id}, 250)" 
                                    id="weight-250-${product.id}">
                                250g - â‚¹${product.price250}
                            </button>
                            <button class="weight-toggle active px-4 py-2 border-2 border-saffron rounded-lg text-sm font-medium" 
                                    onclick="selectWeight(${product.id}, 500)" 
                                    id="weight-500-${product.id}">
                                500g - â‚¹${product.price500}
                            </button>
                        </div>
                        
                        <div class="flex items-center justify-center space-x-3">
                            <button class="quantity-btn w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center text-lg font-bold" 
                                    onclick="updateQuantity(${product.id}, -1)">-</button>
                            <span class="font-semibold text-lg w-8 text-center" id="qty-${product.id}">1</span>
                            <button class="quantity-btn w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center text-lg font-bold" 
                                    onclick="updateQuantity(${product.id}, 1)">+</button>
                        </div>
                        
                        <button class="w-full bg-saffron text-white py-3 rounded-xl font-semibold hover:bg-orange-600 transition-colors" 
                                onclick="addToCart(${product.id})">
                            àª•àª¾àª°à«àªŸàª®àª¾àª‚ àª‰àª®à«‡àª°à«‹
                        </button>
                    </div>
                </div>
            `).join('');
        }
        
        function selectWeight(productId, weight) {
            document.getElementById(`weight-250-${productId}`).classList.remove('active');
            document.getElementById(`weight-500-${productId}`).classList.remove('active');
            document.getElementById(`weight-${weight}-${productId}`).classList.add('active');
        }
        
        function updateQuantity(productId, change) {
            const qtyElement = document.getElementById(`qty-${productId}`);
            let currentQty = parseInt(qtyElement.textContent);
            currentQty = Math.max(1, currentQty + change);
            qtyElement.textContent = currentQty;
        }
        
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            const quantity = parseInt(document.getElementById(`qty-${productId}`).textContent);
            const weight = document.getElementById(`weight-500-${productId}`).classList.contains('active') ? 500 : 250;
            const price = weight === 500 ? product.price500 : product.price250;
            
            const existingItem = cart.find(item => item.id === productId && item.weight === weight);
            
            if (existingItem) {
                existingItem.quantity += quantity;
            } else {
                cart.push({
                    id: productId,
                    name: product.name,
                    nameEn: product.nameEn,
                    price: price,
                    weight: weight,
                    quantity: quantity,
                    image: product.image
                });
            }
            
            updateCartUI();
            document.getElementById(`qty-${productId}`).textContent = '1';
            showToast('àªªà«àª°à«‹àª¡àª•à«àªŸ àª•àª¾àª°à«àªŸàª®àª¾àª‚ àª‰àª®à«‡àª°àª¾àªˆ!');
        }
        
        function updateCartUI() {
            const cartCount = cart.reduce((sum, item) => sum + item.quantity, 0);
            const cartTotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            
            document.getElementById('cart-count').textContent = cartCount;
            document.getElementById('cart-total').textContent = `â‚¹${cartTotal}`;
            
            const cartItems = document.getElementById('cart-items');
            updateCartDisplay();
            return;
            if (cart.length === 0) {
                cartItems.innerHTML = '<p class="text-gray-500 text-center py-8">Your cart is empty</p>';
            } else {
                cartItems.innerHTML = cart.map(item => `
                    <div class="flex items-center justify-between p-4 border-b">
                        <div class="flex items-center space-x-3">
                            <div class="w-12 h-12 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0">
                                <img src="assets/${item.image}" alt="${item.nameEn}" class="w-full h-full object-cover" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                                <div class="w-full h-full bg-saffron text-white text-lg flex items-center justify-center hidden">ğŸ“¦</div>
                            </div>
                            <div>
                                <h4 class="font-semibold text-sm">${item.name}</h4>
                                <p class="text-xs text-gray-600">${item.weight}g - â‚¹${item.price}</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <button onclick="changeCartQuantity(${item.id}, ${item.weight}, -1)" 
                                    class="w-6 h-6 bg-gray-200 rounded-full text-sm">-</button>
                            <span class="w-8 text-center text-sm">${item.quantity}</span>
                            <button onclick="changeCartQuantity(${item.id}, ${item.weight}, 1)" 
                                    class="w-6 h-6 bg-gray-200 rounded-full text-sm">+</button>
                            <button onclick="removeFromCart(${item.id}, ${item.weight})" 
                                    class="text-red-500 ml-2">ğŸ—‘ï¸</button>
                        </div>
                    </div>
                `).join('');
            }
        }
        
        function changeCartQuantity(productId, weight, change) {
            const item = cart.find(item => item.id === productId && item.weight === weight);
            if (item) {
                item.quantity = Math.max(1, item.quantity + change);
                updateCartUI();
            }
        }
        
        function removeFromCart(productId, weight) {
            cart = cart.filter(item => !(item.id === productId && item.weight === weight));
            updateCartUI();
        }
        
        function toggleCart() {
            document.getElementById('cart-drawer').classList.toggle('open');
        }
        
        function filterProducts(category) {
            currentFilter = category;
            renderProducts();
            
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('bg-saffron', 'text-white');
                btn.classList.add('bg-white', 'text-gray-700');
            });
            
            event.target.classList.remove('bg-white', 'text-gray-700');
            event.target.classList.add('bg-saffron', 'text-white');
        }
        
        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50';
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }
        
        const orderDetails = cart.map(item => 
                `${item.name} (${item.weight}g) x ${item.quantity} = â‚¹${item.price * item.quantity}`
            ).join('\n');
            
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const message = `àª¨àª®àª¸à«àª¤à«‡! àª®àª¨à«‡ àª† àª“àª°à«àª¡àª° àª•àª°àªµà«‹ àª›à«‡:\n\n${orderDetails}\n\nàª•à«àª²: â‚¹${total}\n\nPapadSale àª¥à«€ àª“àª°à«àª¡àª°`;
            
            const whatsappUrl = `https://wa.me/919978113276?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
            
            // Show success modal
            document.getElementById('success-modal').classList.add('show');
            
            // Clear cart after order
            setTimeout(() => {
                cart = [];
                updateCartUI();
                toggleCart();
            }, 1000);
        }
        
        function sendMessage(event) {
            event.preventDefault();
            const form = event.target;
            const name = form.querySelector('input[type="text"]').value;
            const phone = form.querySelector('input[type="tel"]').value;
            const message = form.querySelector('textarea').value;
            
            const whatsappMessage = `àª¨àª®àª¸à«àª¤à«‡! àª®àª¾àª°à«àª‚ àª¨àª¾àª® ${name} àª›à«‡.\nàª«à«‹àª¨: ${phone}\nàª®à«‡àª¸à«‡àªœ: ${message}`;
            const whatsappUrl = `https://wa.me/919978113276?text=${encodeURIComponent(whatsappMessage)}`;
            
            window.open(whatsappUrl, '_blank');
            form.reset();
            showToast('Message sent successfully!');
        }
        
        function closeModal() {
            document.getElementById('success-modal').classList.remove('show');
        }
        
        // Counter animation
        function animateCounters() {
            const counters = document.querySelectorAll('[data-count]');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const counter = entry.target;
                        const target = parseInt(counter.getAttribute('data-count'));
                        let current = 0;
                        const increment = target / 50;
                        
                        const updateCounter = () => {
                            if (current < target) {
                                current += increment;
                                counter.textContent = Math.ceil(current);
                                requestAnimationFrame(updateCounter);
                            } else {
                                counter.textContent = target;
                            }
                        };
                        
                        updateCounter();
                        counter.parentElement.classList.add('animate');
                        observer.unobserve(counter);
                    }
                });
            });
            
            counters.forEach(counter => observer.observe(counter));
        }
        
        // Fade in animation
        function initFadeInAnimation() {
            const elements = document.querySelectorAll('.fade-in');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            });
            
            elements.forEach(el => observer.observe(el));
        }
        
        // Smooth scrolling for navigation links
        function initSmoothScrolling() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        }
        
        // Close cart when clicking outside
        document.addEventListener('click', function(event) {
            const cartDrawer = document.getElementById('cart-drawer');
            const cartButton = event.target.closest('button[onclick="toggleCart()"]');
            
            if (!cartDrawer.contains(event.target) && !cartButton && cartDrawer.classList.contains('open')) {
                toggleCart();
            }
        });
        
        // Close modal when clicking outside
        document.addEventListener('click', function(event) {
            const modal = document.getElementById('success-modal');
            if (event.target === modal) {
                closeModal();
            }
        });
        
        // Initialize everything
        document.addEventListener('DOMContentLoaded', function() {
            renderProducts();
            updateCartUI();
            animateCounters();
            initFadeInAnimation();
            initSmoothScrolling();
        });
    
// --- Enhanced Cart & Checkout (merged from index2) ---
function updateCartDisplay() {
    const cartItems = document.getElementById('cart-items');
    const cartTotal = document.getElementById('cart-total');
    const checkoutForm = document.getElementById('checkout-form');
    const mobileCartCount = document.getElementById('mobile-cart-count');
    const headerCartCount = document.getElementById('cart-count');

    if (!cartItems || !cartTotal) return; // safety if elements missing

    if (cart.length === 0) {
        cartItems.innerHTML = '<p class="text-gray-500 text-center py-8">Your cart is empty</p>';
        cartTotal.classList.add('hidden');
        if (checkoutForm) checkoutForm.classList.add('hidden');
        if (mobileCartCount) mobileCartCount.textContent = '0';
        if (headerCartCount) headerCartCount.textContent = '0';
        return;
    }

    let total = 0;
    let itemCount = 0;

    cartItems.innerHTML = cart.map((item, index) => {
        const subtotal = item.price * item.quantity;
        total += subtotal;
        itemCount += item.quantity;

        // Prefer weight if present, else size
        const weightOrSize = (item.weight ? (item.weight + 'g') : (item.size || ''));
        return `
            <div class="flex justify-between items-center p-4 bg-cream rounded-lg">
                <div class="flex items-center gap-3">
                    <div class="w-12 h-12 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0">
                        <img src="assets/${item.image || 'papad1.jpg'}" alt="${item.nameEn || item.name}" class="w-full h-full object-cover"
                             onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        <div class="w-full h-full bg-saffron text-white text-lg flex items-center justify-center hidden">ğŸ“¦</div>
                    </div>
                    <div>
                        <h5 class="font-medium">${item.name}</h5>
                        <p class="text-sm text-gray-600">${weightOrSize} Ã— ${item.quantity}</p>
                    </div>
                </div>
                <div class="text-right">
                    <p class="font-bold">â‚¹${subtotal}</p>
                    <button onclick="removeFromCart(${index})" class="text-red-500 text-sm hover:text-red-700">Remove</button>
                </div>
            </div>
        `;
    }).join('');

    const totalAmountEl = document.getElementById('total-amount');
    if (totalAmountEl) totalAmountEl.textContent = `â‚¹${total}`;

    cartTotal.classList.remove('hidden');
    if (checkoutForm) checkoutForm.classList.remove('hidden');
    if (mobileCartCount) mobileCartCount.textContent = String(itemCount);
    if (headerCartCount) headerCartCount.textContent = String(itemCount);
}

function removeFromCart(index) {
    cart.splice(index, 1);
    updateCartUI(); // keep existing counters in sync
}

function processPayment() {
    const name = document.getElementById('customer-name').value.trim();
    const mobile = document.getElementById('customer-mobile').value.trim();
    const address = document.getElementById('customer-address').value.trim();
    const pincode = document.getElementById('customer-pincode').value.trim();

    if (!name || !mobile || !address || !pincode) {
        showToast('Please fill in all required fields');
        return;
    }
    if (!/^[0-9]{10}$/.test(mobile)) {
        showToast('Enter a valid 10-digit mobile number');
        return;
    }
    if (!/^[0-9]{6}$/.test(pincode)) {
        showToast('Enter a valid 6-digit pincode');
        return;
    }

    let total = 0;
    cart.forEach(item => total += item.price * item.quantity);
    showPaymentModal(total);
}

function showPaymentModal(total) {
    const modal = document.createElement('div');
    modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
    modal.innerHTML = `
        <div class="bg-white rounded-3xl p-6 max-w-md w-full">
            <div class="text-center mb-6">
                <h3 class="text-xl font-bold text-gray-800 mb-2">Complete Payment</h3>
                <p class="text-2xl font-bold text-saffron">â‚¹${total}</p>
            </div>
            <div class="space-y-4">
                <button onclick="simulateUPIPayment(${total})"
                        class="w-full bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg font-medium transition-colors">
                    ğŸ’³ Pay with UPI
                </button>
                <button onclick="selectCOD()"
                        class="w-full bg-green-500 hover:bg-green-600 text-white py-3 rounded-lg font-medium transition-colors">
                    ğŸ’µ Cash on Delivery
                </button>
                <button onclick="closePaymentModal()"
                        class="w-full bg-gray-300 hover:bg-gray-400 text-gray-700 py-3 rounded-lg font-medium transition-colors">
                    Cancel
                </button>
            </div>
        </div>`;

    document.body.appendChild(modal);
    window.currentPaymentModal = modal;
}

function closePaymentModal() {
    if (window.currentPaymentModal) {
        window.currentPaymentModal.remove();
        window.currentPaymentModal = null;
    }
}

function simulateUPIPayment(total) {
    closePaymentModal();
    const processingModal = document.createElement('div');
    processingModal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
    processingModal.innerHTML = `
        <div class="bg-white rounded-3xl p-8 text-center">
            <div class="animate-spin w-12 h-12 border-4 border-saffron border-t-transparent rounded-full mx-auto mb-4"></div>
            <p class="text-lg font-medium">Processing payment...</p>
        </div>`;
    document.body.appendChild(processingModal);

    setTimeout(() => {
        processingModal.remove();
        showPaymentSuccess(total, 'UPI');
    }, 1500);
}

function selectCOD() {
    closePaymentModal();
    let total = 0;
    cart.forEach(item => total += item.price * item.quantity);
    showPaymentSuccess(total, 'COD');
}

function showPaymentSuccess(total, method) {
    const name = document.getElementById('customer-name').value.trim();
    const mobile = document.getElementById('customer-mobile').value.trim();
    const address = document.getElementById('customer-address').value.trim();
    const pincode = document.getElementById('customer-pincode').value.trim();
    const landmark = (document.getElementById('customer-landmark')||{}).value || '';
    const deliveryTime = (document.getElementById('delivery-time')||{}).value || '';
    const notes = (document.getElementById('order-notes')||{}).value || '';
    const orderId = `PS${Date.now().toString().slice(-6)}`;

    const successModal = document.createElement('div');
    successModal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
    successModal.innerHTML = `
        <div class="bg-white rounded-3xl p-6 text-center max-w-lg w-full max-h-[90vh] overflow-y-auto">
            <div class="text-5xl mb-4">âœ…</div>
            <h3 class="text-xl font-bold text-green-600 mb-4">Order Confirmed!</h3>
            <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6">
                <h4 class="font-bold text-gray-800 mb-3">ğŸ’³ Complete Your Payment</h4>
                <div class="text-center mb-3">
                    <img src="assets/qr.png" alt="UPI QR Code" class="w-24 h-24 mx-auto rounded-lg"
                         onerror="this.style.display='none'">
                </div>
                <p class="text-sm text-gray-700 mb-3">
                    ğŸ’³ <strong>Pay â‚¹${total}</strong> using UPI QR code above<br>
                    ğŸ“¸ Take screenshot of payment confirmation
                </p>
            </div>
            <div class="space-y-3 mb-6">
                <button onclick="sendOrderToWhatsApp('${orderId}', ${total}, '${method}')"
                        class="w-full bg-green-500 hover:bg-green-600 text-white py-3 rounded-lg font-medium transition-colors">
                    ğŸ“± Send Order Details to WhatsApp
                </button>
            </div>
            <div class="bg-gray-50 p-4 rounded-lg text-left text-sm">
                <p class="font-bold mb-2">Order Summary:</p>
                <p><strong>Order ID:</strong> ${orderId}</p>
                <p><strong>Customer:</strong> ${name}</p>
                <p><strong>Mobile:</strong> ${mobile}</p>
                <p><strong>Total:</strong> â‚¹${total}</p>
                <p><strong>Payment:</strong> ${method}</p>
            </div>
            <button onclick="closeSuccessModal()"
                    class="w-full bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 rounded-lg font-medium transition-colors mt-4">
                Close
            </button>
        </div>`;

    document.body.appendChild(successModal);
    window.currentSuccessModal = successModal;
    window.currentOrderData = { orderId, name, mobile, address, pincode, landmark, deliveryTime, notes, total, method };

    // Clear cart
    cart = [];
    updateCartUI();
    toggleCart();
}

function closeSuccessModal() {
    if (window.currentSuccessModal) {
        window.currentSuccessModal.remove();
        window.currentSuccessModal = null;
    }
}

function sendOrderToWhatsApp(orderId, total, method) {
    const d = window.currentOrderData || {};
    let msg = `ğŸ›’ *NEW ORDER - PAPADSALE*\n\n`;
    msg += `Order ID: ${orderId}\n`;
    msg += `Customer: ${d.name}\nMobile: ${d.mobile}\nAddress: ${d.address}\nPincode: ${d.pincode}\n`;
    if (d.landmark) msg += `Landmark: ${d.landmark}\n`;
    if (d.deliveryTime) msg += `Delivery Time: ${d.deliveryTime}\n`;
    if (d.notes) msg += `Notes: ${d.notes}\n`;
    msg += `Payment Mode: ${method}\n\n`;
    msg += `ğŸ“¦ *Items Ordered:*\n`;

    // Use a snapshot captured before clearing cart if available, else tell manual attach
    const items = (window.orderItemsSnapshot && window.orderItemsSnapshot.length) ? window.orderItemsSnapshot : cart;
    items.forEach(item => {
        const subtotal = item.price * item.quantity;
        const weightOrSize = (item.weight ? (item.weight + 'g') : (item.size || ''));
        msg += `â€¢ ${item.name} - ${weightOrSize} Ã— ${item.quantity} = â‚¹${subtotal}\n`;
    });

    msg += `\nğŸ’° *Total: â‚¹${total}*\n\nğŸ™ Thank you!`;
    const url = `https://wa.me/919978113276?text=${encodeURIComponent(msg)}`;
    window.open(url, '_blank');
}

</script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98ed1c7476d14425',t:'MTc2MDUwODE4NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
